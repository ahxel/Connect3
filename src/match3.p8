pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
  poke(0x5f2d, 1) -- enable mouse
  offset=10
  gs=9
  n=5
  m=5
  mt={}
  for i=1,n do
    mt[i]={}
    for j=1,m do
      mt[i][j]=flr(rnd(4))+1
    end
  end	
end

function _update()
  mx = stat(32)
  my = stat(33)
end

function _draw()
	cls()
	draw_gems()
  --print(mx..','..my)
  drcsr()
  ppointedgem()
end

function draw_gems()
  for i=1,n do
    y=offset+((i-1)*gs)
    for j=1,m do
      gemid=mt[i][j]
      x=offset+((j-1)*gs)
      draw_1gem()
    end
  end
end

function draw_1gem()
  spr(gemid,x,y)
end

-- draw cursor
function drcsr()
  palt(0,false)
  palt(8,true)
  spr(6,mx,my)
  palt()
end

function ppointedgem()
  gemrow=ceil((my-10)/9)
  gemcol=ceil((mx-10)/9)
  print(gemrow..','..gemcol)
end


__gfx__
00000000008888000099990000bbbb0000cccc000000000000000888776000000000000000000000000000000000000000000000000000000000000000000000
0000000008788880097999900b7bbbb00c7cccc00000000007760888760000000000000000000000000000000000000000000000000000000000000000000000
007007008778888897799999b77bbbbbc77ccccc0000000007600888657000000000000000000000000000000000000000000000000000000000000000000000
000770008788888897999999b7bbbbbbc7cccccc000aa00006570088000700000000000000000000000000000000000000000000000000000000000000000000
000770008888888899999999bbbbbbbbcccccccc000aa00000007088000000000000000000000000000000000000000000000000000000000000000000000000
007007008888888299999994bbbbbbb3ccccccc10000000088800088000000000000000000000000000000000000000000000000000000000000000000000000
0000000008888820099999400bbbbb300ccccc100000000088888888000000000000000000000000000000000000000000000000000000000000000000000000
000000000028820000499400003bb300001cc1000000000088888888000000000000000000000000000000000000000000000000000000000000000000000000
